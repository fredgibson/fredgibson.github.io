(function(a,c){(function(){if(a.jQuery===c){throw"jQuery not included!"
}if(jQuery.prototype.jquery===c){throw"jQuery version not found!"
}usedVer=jQuery.prototype.jquery.split(".");
if(parseInt(usedVer[0])<1||parseInt(usedVer[1])<5){throw"Minimum jQuery version must be 1.5"
}if(b!==c){a._BnsC2CLoader=b
}if(a.console===c){a.console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}}
}})();
var b={version:"1.0",c2cSiteRootURL:"https://www.livehelp.scotiabank.com/",contextRoot:"c2cui",qualifierURI:"/rs/pagev2/getQualifiersv2/",c2cEnabled:true,c2cPluginCSS:"css/plugin/c2c-plugin.css?v=1.0",c2cDCIndJS:"dcjs/c2c-dcdef.js?v=1/0",c2cJQueryCookieJS:"js/base/jquery.cookie.js?v=1.3.1",c2cJSList:["js/base/c2c-cookie.js?v=1.0","js/base/c2c-pstmsg.js?v=1.0","js/plugin/c2c-plugin.v2.js?v=1.0"],languages:{en:true,fr:false},accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},hostInfo:{app:null,page:null,pagelist:null,language:"en"},ineligibleUAs:{iOS:/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i,Android:/(android)[\/\s-]?([\w\.]+)*/i,BlackBerry:/(blackberry)\w*\/?([\w\.]+)*/i,winRT:/(windows)\snt\s6\.2;\s(arm)/i,bnsMbApp:/^iphone.*/i,iPad:/iPad.*/i,BB10:/(BB10).*/i},getC2CQualificationURL:function(){return b.c2cSiteRootURL+b.contextRoot+b.qualifierURI
},insertHeadNode:function(d){firstScript=null;
scriptElem=document.getElementsByTagName("script");
for(i=scriptElem.length-1;
i>=0;
i--){if(scriptElem[i].src&&/.+c2c-loader\.js.+$/.test(scriptElem[i].src)){firstScript=scriptElem[i];
break
}}if(firstScript!=null){firstScript.parentNode.insertBefore(d,firstScript)
}},createCSSRule:function(d){try{styleElem=document.createElement("style");
styleElem.type="text/css";
if(/WebKit|MSIE/i.test(navigator.userAgent)){if(styleElem.styleSheet){styleElem.styleSheet.cssText=d
}else{styleElem.innerText=d
}}else{styleElem.innerHTML=d
}b.insertHeadNode(styleElem)
}catch(e){}},createCSS:function(){cssRule="div.c2c_background_cover {background-image: url(";
cssRule+=b.c2cSiteRootURL;
cssRule+="images/Transparent_background.png)}";
b.createCSSRule(cssRule)
},asyncLoadCSS:function(){head=document.head||jQuery("head")[0]||document.documentElement;
cssLnk=document.createElement("link");
cssLnk.href=b.c2cSiteRootURL+b.c2cPluginCSS;
cssLnk.rel="stylesheet";
cssLnk.type="text/css";
head.appendChild(cssLnk)
},asyncLoadScript:function(d,e){head=document.head||jQuery("head")[0]||document.documentElement;
script=document.createElement("script");
script.async=true;
script.src=d;
script.onload=script.onreadystatechange=function(){if(!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;
script.onerror=null;
script=null;
e()
}};
script.onerror=function(){script.onerror=null;
if(script.parentNode){script.parentNode.removeChild(script);
if(console&&console.log){console.log("Async script loading error: "+d)
}}};
head.appendChild(script)
},jsDownloadEnum:{enumIndex:-1,jsList:null,next:function(){if(!jsList||jsList==null||++enumIndex>=jsList.length){enumIndex=-1;
return null
}return jsList[enumIndex]
},setJsList:function(d){enumIndex=-1;
jsList=d
},resetEnum:function(){enumIndex=-1
}},loadJavaScript:function(){if(!b.c2cEnabled){return
}nextJs=b.jsDownloadEnum.next();
if(nextJs!=null){b.asyncLoadScript(b.c2cSiteRootURL+nextJs,b.loadJavaScript)
}},isC2CEligibleOS:function(){for(regProp in b.ineligibleUAs){if(b.ineligibleUAs[regProp].test(navigator.userAgent)){if(console&&console.log){console.log("Not C2C eligible: "+regProp)
}return false
}}return true
},isIE7AndUnder:function(){if(document.documentMode!==c&&document.documentMode<8){if(console&&console.log){console.log("Invalid IE document mode: "+document.documentMode)
}return true
}return false
},isBrowserC2CEligible:function(){if(a.postMessage===c||b.isIE7AndUnder()||!b.isC2CEligibleOS()){b.c2cEnabled=false;
return false
}if(b.hostInfo&&b.hostInfo.language&&b.languages[b.hostInfo.language]&&b.languages[b.hostInfo.language]!=true){return false
}return true
},loadCSSAndJsOnDCLoaded:function(){b.asyncLoadCSS();
if(!jQuery.cookie){b.c2cJSList.unshift(b.c2cJQueryCookieJS)
}b.jsDownloadEnum.setJsList(b.c2cJSList);
b.loadJavaScript()
},hookDocReady:function(){jQuery(document).ready(function(){if(!b.isBrowserC2CEligible()){return
}dcIndJsURL=b.c2cSiteRootURL+b.c2cDCIndJS;
b.asyncLoadScript(dcIndJsURL,b.loadCSSAndJsOnDCLoaded)
})
}};
(function(){a.BnsC2CLoader=b;
if(b.c2cEnabled){b.hookDocReady()
}})()
})(window);